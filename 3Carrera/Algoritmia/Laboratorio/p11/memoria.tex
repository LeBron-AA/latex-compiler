\documentclass[12pt,a4paper]{article}

% Paquetes básicos
\usepackage[table,x11names]{xcolor}
\usepackage[utf8]{inputenc}
\usepackage{mathtools, amssymb, amsthm}
\usepackage{changepage}
\usepackage{geometry}
\usepackage[colorlinks=true]{hyperref}
\usepackage{enumitem}
\usepackage{etoolbox}
\usepackage{graphicx}
\usepackage{setspace}
\usepackage{tcolorbox}
\tcbuselibrary{skins, breakable}
\usepackage{titlesec}
\usepackage{tikz} % core TikZ
\usetikzlibrary{matrix}
\usepackage{pgfplots}
\usepackage{float}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{fillbetween}

% Margins
%\geometry{left=3cm,right=3cm,top=2.5cm,bottom=2.5cm}

% Custom operators
\newcommand{\card}{\operatorname{card}}
\newcommand{\muae}{\overset{\mu-a.e.}{=}}

% Implication box setup
\tcbset{Implication-number/.style={
  enhanced,
  boxsep=2pt,
  colback=white,
  frame hidden,
  sharp corners,
  left=2pt, right=2pt, top=1pt, bottom=1pt,
  underlay={
    \draw[line width=0.5pt] (frame.south west) -- ([xshift=-133mm]frame.south east); % línea horizontal
    \draw[line width=0.5pt] ([xshift=-133mm]frame.north east) -- ([xshift=-133mm]frame.south east); % línea vertical
  }
}}

\tcbset{Implication-number-ds/.style={
  enhanced,
  boxsep=2pt,
  colback=white,
  frame hidden,
  sharp corners,
  left=2pt, right=2pt, top=1pt, bottom=1pt,
  underlay={
    \draw[line width=0.5pt] ([yshift=5mm]frame.south west) -- ([xshift=-133mm, yshift=5mm]frame.south east); % línea horizontal
    \draw[line width=0.5pt] ([xshift=-133mm, yshift=-3mm]frame.north east) -- ([xshift=-133mm, yshift=5mm]frame.south east); % línea vertical
  }
}}

\tcbset{Subset-contingency/.style={
  enhanced,
  boxsep=2pt,
  colback=white,
  frame hidden,
  sharp corners,
  left=2pt, right=2pt, top=1pt, bottom=1pt,
  underlay={
    \draw[line width=0.5pt] (frame.south west) -- ([xshift=-140mm]frame.south east); % línea horizontal
    \draw[line width=0.5pt] ([xshift=-140mm]frame.north east) -- ([xshift=-140mm]frame.south east); % línea vertical
  }
}}

\tcbset{Indent-subset-contingency/.style={
  enhanced,
  boxsep=2pt,
  colback=white,
  frame hidden,
  sharp corners,
  left=2pt, right=2pt, top=1pt, bottom=1pt,
  underlay={
    \draw[line width=0.5pt] (frame.south west) -- ([xshift=-140mm+0.07\textwidth]frame.south east); % línea horizontal
    \draw[line width=0.5pt] ([xshift=-140mm+0.07\textwidth]frame.north east) -- ([xshift=-140mm+0.07\textwidth]frame.south east); % línea vertical
  }
}}

% Useful commands
\renewcommand{\contentsname}{Contenidos}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}

\newcommand{\smallcup}{\mathop{\cup}\limits}
\newcommand{\smallcap}{\mathop{\cap}\limits}
\newcommand{\smallsum}{\mathop{\sum}\limits}
\newcommand{\smallprod}{\mathop{\prod}\limits}

\newcommand{\linf}[1]{\displaystyle{\mathop{\underline{\lim}}_{#1}}}
\newcommand{\mlim}[1]{\displaystyle{\lim_{#1}}}

%Integral de Lebesgue con patas
\newcommand{\lbint}{\mathop{\int_{\!\!\!\!\!|\!}^{\!|\!}}}

%Espacios \mathcal{L}_p
\newcommand{\elep}[2]{\mathcal{L}_{#1}(#2)}

% ----- Custom counters and counter commands -----
% Custom counter hierarchy
\newcounter{unit}[section]
\newcounter{chapter}[unit]
\makeatletter
\@addtoreset{subsubsection}{chapter}
\makeatother

\renewcommand{\theunit}{\arabic{unit}}
\renewcommand{\thechapter}{\arabic{chapter}}
\renewcommand{\thesubsubsection}{\arabic{subsubsection}.}

% Custom content hierarchy behavior
\newcommand{\chapter}[1]{
    \refstepcounter{chapter}
    \subsection*{\Large{\S \thechapter. #1}}
    \addcontentsline{toc}{subsection}{\thechapter. #1}
}
\newcommand{\unit}[1]{
    \refstepcounter{unit}
    \section*{\Huge{\Roman{unit} #1}}
    \addcontentsline{toc}{section}{\Roman{unit} #1}
}

\newcommand{\result}[1]{%
  \subsubsection{#1}%
  \label{result:\thesubsubsection}
}
  
\titleformat{\subsubsection}
    {\normalfont\large\bfseries} % mismo tamaño que \subsection
    {\thesubsubsection}{1em}{}
  
%---- Custom proof commands-----
\newcommand{\dem}{
    \noindent \underline{\textbf{Demostración:}}
}
\newcommand{\nota}{
    \noindent \underline{\textbf{Nota:}}
}
% ----------------------------------------
\hbadness=10000
\vbadness=10000
\hfuzz=100pt
\vfuzz=100pt
% ---------------------------------------
\title{Algoritmia}
\author{Práctica 1.1}
\date{8/2/2026}


\begin{document}

\maketitle
\hypersetup{linkcolor=black}
\vspace{4mm}
\tableofcontents
\hypersetup{linkcolor=Ivory4}
\newpage

\result{Desbordamiento de fecha}
\hspace{3mm} Sabemos que \texttt{currentTimeMillis()} devuelve un entero \texttt{long} de 64 bits. Así, al tener signo, el máximo valor que puede representar es $2^{63}-1$. Hagamos el factor de conversión de milisegundos a años:
$$ (2^{63}-1)\text{ms} \cdot \frac{1 \text{s}}{10^3 \text{ms}} \cdot \frac{1\text{h}}{3600\text{s}} \cdot \frac{1\text{d}}{24\text{h}}\cdot\frac{1\text{año}}{365.25\text{d}} = 292.271.023 \text{años}$$

\vspace{6mm}  
\result{Toma de tiempos nulos en \texttt{Vector2}}
\hspace{3mm} Para cargas suficientemente bajas, el tiempo transcurrido para la operación es inferior al milisegundo. Por tanto, al restar los resultados de \texttt{getCurrentTimeMillis()} antes y después de llamar al método se obtendrá 0 como resultado.

\vspace{2mm}
\hspace{3mm} La carga más baja para la que he podido tomar una medición fiable ha sido la siguiente:

\begin{center}
  \begin{verbatim}
    t1=1770804162055  *** t2=1770804162106
    n= 2000000	Tiempo metodo suma = 51
    Resultado de la suma de elementos = 39692
  \end{verbatim}
\end{center}

\vspace{1mm}
\result{Toma de tiempos \texttt{Vector4}}
\begin{center}
  \includegraphics[
    width=0.9\textwidth,
    trim=0 3cm 0 3cm,
    clip
  ]{media/Vector4.pdf}
  \newline
  Toma de tiempos para Vector4
\end{center}
El tiempo de respuesta para cada repetición parece seguir una correspondencia lineal con la carga, pues se duplica también (de manera aproximada).

\vspace{6mm}
\result{Suma vs Máximo}
\hspace{3mm} Tras ejecutar \texttt{Vector4} y \texttt{Vector5} con 1000 repeticiones cada uno, estos han sido los tiempos resultantes (en $\mu$s):
\begin{table}[h!]
\centering
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{|r|c|c|}
\hline
\rowcolor{LightSteelBlue2}
\textit{n} & \textit{Tsuma} & \textit{Tmaximo} \\
\hline
10.000     & 269 & 337 \\ \hline
20.000     & 334 & 430 \\ \hline
40.000     & 799 & 1.049 \\ \hline
80.000     & 1.837 & 2.779 \\ \hline
160.000    & 3.568 & 5.513 \\ \hline
320.000    & 8.031 & 14.411 \\ \hline
640.000    & 15.815 & 32.013 \\ \hline
1.280.000   & 27.232 & 61.351 \\ \hline
2.560.000   & 51.124 & 132.819 \\ \hline
5.120.000   & 105.653& FdT \\ \hline
10.240.000  & FdT & FdT \\ \hline
20.480.000  & FdT & FdT \\ \hline
40.960.000  & FdT & FdT \\ \hline
81.920.000  & FdT & FdT \\ \hline
\end{tabular}
\end{table}

\vspace{4mm} Aunque el algoritmo ``máximo'' tiene tiempos más altos, ambos presentan un comportamiento lineal.

\begin{center}
  \includegraphics[
    width=0.9\textwidth,
    trim=0 3cm 0 3cm,
    clip
  ]{media/Lineales.pdf}
  \newline
  Comparativa gráfica entre los tiempos de \texttt{suma} y \texttt{maximo}
\end{center}

\vspace{6ex}
\result{Coincidencias 1 vs Coincidencias 2}
\begin{table}[h!]
\centering
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{|r|c|c|}
\hline
\rowcolor{LightSteelBlue2}
\textit{n} & \textit{Coincidencias 1(ms)} & \textit{Coincidencias 2(ms)} \\
\hline
10.000     & 1.161   & 0,42   \\ \hline
20.000     & 4.955   & 0,54   \\ \hline
40.000     & 18.178  & 1,16   \\ \hline
80.000     & 73.149  & 3,061  \\ \hline
160.000    & 291.764 & 4,841  \\ \hline
320.000    & FdT     & 11,926 \\ \hline
640.000    & FdT     & 20,15  \\ \hline
1.280.000  & FdT     & 43,668 \\ \hline
2.560.000  & FdT     & 89,01  \\ \hline
5.120.000  & FdT     & 180,352 \\ \hline
\end{tabular}
\end{table}
Debido al elevado coste temporal de ejecutar \texttt{Coincidencias1}, las tomas de tiempos de este algoritmo se hicieron con una única repetición. Las de \texttt{Coincidencias2}; en cambio, se tomaron como promedio de 1000 repeticiones (de ahí los decimales al hacer la media).

\vspace{6ex}   
\result{Comparación con tiempos teóricos}
\hspace{3mm} Los algoritmos \texttt{suma} y \texttt{maximo} iteran por cada elemento del array, realizando operaciones de tiempo constante en cada paso. Por tanto, tienen complejidad $O(n)$. Veamos si el cociente entre los tiempos empíricos y $n$ tiende a una constante no nula.
\begin{table}[H]
\centering
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{|r|c|c|}
\hline
\rowcolor{LightSteelBlue2}
\textit{n} & \textit{$T_\text{Suma}/n$} & \textit{$T_\text{Max}/n$} \\
\hline
10.000     & 0,0269 & 0,0337 \\ \hline
20.000     & 0,0167 & 0,0215 \\ \hline
40.000     & 0,0200 & 0,0262 \\ \hline
80.000     & 0,0230 & 0,0347 \\ \hline
160.000    & 0,0223 & 0,0345 \\ \hline
320.000    & 0,0251 & 0,0450 \\ \hline
640.000    & 0,0247 & 0,0500 \\ \hline
1.280.000  & 0,0213 & 0,0479 \\ \hline
2.560.000  & 0,0200 & 0,0519 \\ \hline
5.120.000  & 0,0206 & -\\\hline
\end{tabular}
\end{table}

Aun habiendo modificado $n$ en gran medida, los cocientes parecen mantenerse estables, sobre todo para \texttt{suma}. Los cocientes d máximo, aunque lo logran, tardan algo más en estabilizarse.

\vspace{4mm}
Veamos ahora el la comparativa para \texttt{coincidencias1} y \texttt{coincidencias2}. El primero de ellos, itera sobre el primer vector y en cada paso recorre el segundo vector al completo. Si $n$ es el tamaño de cada vector (ambos de igual tamaño), la complejidad del algoritmo es por tanto $O(n^2)$. En cuanto a \texttt{coincidencias2}, itera sobre ambos vectores simultáneamente utilizando una única variable índice, luego su complejidad es $O(n)$.

\begin{table}[H]
\centering
\renewcommand{\arraystretch}{1.2}
\begin{tabular}{|r|c|c|}
\hline
\rowcolor{LightSteelBlue2}
\textit{n} & \textit{$n^2/T_1$} & \textit{$n/T_2$} \\
\hline
10.000     & 86132,64427 & 23809,52381 \\ \hline
20.000     & 80726,53885 & 37037,03704 \\ \hline
40.000     & 88018,48388 & 34482,75862 \\ \hline
80.000     & 87492,65198 & 26135,24992 \\ \hline
160.000    & 87742,14776 & 33051,02252 \\ \hline
320.000    & - & 26832,13148 \\ \hline
640.000    & - & 31761,7866 \\ \hline
1.280.000  & - & 29312,08207 \\ \hline
2.560.000  & - & 28760,81339 \\ \hline
5.120.000  & - & 28388,92832 \\ \hline
\end{tabular}
\end{table}

Por legibilidad, hemos optado por dividir $\frac{f_i(n)}{T_i}$ (el resultado sigue siendo válido).

\vspace{6ex}
\result{Condiciones de medida y características del ordenador}
\hspace{3mm} Todas las mediciones han sido realizadas en un mismo ordenador con Eclipse IDE usando el argumento \texttt{-Xint} para la máquina virtual de java.
\begin{itemize}
  \item CPU: Intel Core i7-6700HQ CPU @ 2.60GHz \\[-3ex]
  \item Memoria: 16GB RAM
\end{itemize}
\end{document} 